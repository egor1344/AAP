{% extends "main/base.html"%}
{% load static %}

{% block title %}
  Apartments list
{% endblock %}

{% block css %}
 <link href="{% static "css/list.css" %}" rel="stylesheet">
{% endblock %}

{% block content %}
    <nav class="navbar navbar-dark navbar-fixed-top bg-inverse">
      <button type="button" class="navbar-toggler hidden-sm-up" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">Анализ цен</a>
      <div id="navbar">
        <nav class="nav navbar-nav pull-xs-left">
          <a class="nav-item nav-link" href="#">Главная</a>
        </nav>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
          <ul class="nav nav-sidebar">
            <li class="active"><a href="#">Список квартир<span class="sr-only">(current)</span></a></li>
            <li><a href="#">Отчеты</a></li>
            <li><a href="#">Анализ цен</a></li>
            <li><a href="#">Экспорт данных</a></li>
          </ul>
        </div>
        <div class="col-sm-9 offset-sm-3 col-md-10 offset-md-2 main">
          <h2>Список квартир</h2>
          <div class="table-responsive">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>№</th>
                  <th>Название</th>
                  <th>Цена</th>
                  <th>Время</th>
                  <th>Город</th>
                </tr>
              </thead>
              <tbody>
              {% for apartment in apartments %}
                <tr>
                  <td>{{ apartment.id }}</td>
                  <td>{{ apartment.title }}</td>
                  <td>{{ apartment.price }}</td>
                  <td>{{ apartment.date_time }}</td>
                  <td>{{ apartment.city }}</td>
                </tr>
              {% endfor %}
              </tbody>
            </table>
          </div>

  <div class="pagination">
    <span class="step-links">
        {% if apartments.has_previous %}
            <a href="?page={{ apartments.previous_page_number }}">Туды</a>
        {% endif %}

        <span class="current">
            Страница {{ apartments.number }} из 
            {{ apartments.paginator.num_pages }}
        </span>

        {% if apartments.has_next %}
            <a href="?page={{ apartments.next_page_number }}">Сюды</a>
        {% endif %}
    </span>
  </div>
          
        </div>
      </div>
    </div>


{% endblock %}